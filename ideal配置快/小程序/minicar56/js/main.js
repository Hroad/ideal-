window.onload = function () {    var $topNav = $('.topNav');    var $mainWrap = $('.mainWrap');    var main = document.getElementsByClassName('main')[0];    var scrollmain = main.getElementsByClassName('scrollmain');    var pagemain = main.getElementsByClassName('pagemain')[0];    pagemain2 = main.getElementsByClassName('pagemain')[1];    var pagemain3 = main.getElementsByClassName('pagemain')[2];    var pagemain4 = main.getElementsByClassName('pagemain')[3];    // 如果地址未带参数，初始化相关数据    if (!job) {        indexmain = 0;        indexsub = 0;        $topNav.find('li').eq(0).addClass('on');    }    pagemain.style.height = document.body.offsetHeight - 660 + 'px';    pagemain2.style.height = document.body.offsetHeight - 400 + 'px';    pagemain3.style.height = document.body.offsetHeight - 400 + 'px';    pagemain4.style.height = document.body.offsetHeight - 400 + 'px';    pagemain.addEventListener('touchstart', start2);    pagemain2.addEventListener('touchstart', start);    //iphoneX全面屏触发器会遮挡导航    var u = navigator.userAgent;    isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端    if (!isAndroid) {        if (window.innerHeight > 1300) {            $(".topNav").addClass("resBottom")            $(".share-content").addClass("resShare")        }    }    // 解决iOS下input框相关兼容性问题    function start(e) {        $('#job_serach').blur();    }    function start2(e) {        $('#index-search').blur();    }    $('#job_serach').on('blur', function () {        $(document).scrollTop(0)    })    $('#index-search').on('blur', function () {        $(document).scrollTop(0)    })    scroll2 = new BScroll(pagemain, {        scrollY: true,        probeType: 3,        tap: true,        momentum: true,        bounce: true,        bounceTime: 700,        deceleration: 0.002,        momentumLimitDistance: 1,        HWCompositing: true,        click: true,        useTransition: false    });    scroll = new BScroll(pagemain2, {        scrollY: true,        probeType: 3,        tap: true,        momentum: true,        bounce: true,        bounceTime: 700,        deceleration: 0.002,        momentumLimitDistance: 1,        HWCompositing: true,        click: true,        pullUpLoad: true,        useTransition: false    });    scroll3 = new BScroll(pagemain3, {        scrollY: true,        probeType: 3,        tap: true,        momentum: true,        bounce: true,        bounceTime: 700,        deceleration: 0.002,        momentumLimitDistance: 1,        HWCompositing: true,        click: true,        useTransition: false    });    scroll4 = new BScroll(pagemain4, {        scrollY: true,        probeType: 3,        tap: true,        momentum: true,        bounce: true,        bounceTime: 700,        deceleration: 0.002,        momentumLimitDistance: 1,        HWCompositing: true,        click: true,        useTransition: false    });    scrollmain[2].style.minHeight = document.body.offsetHeight - 187 - 87 - 101 - 24 + 'px';    scrollmain[3].style.minHeight = document.body.offsetHeight - 187 - 87 - 101 - 24 + 'px';    $(".contact").css(        'height', window.innerHeight    )    touch();    function touch() {        // 主导航点击事件        $topNav.find('li').on('click', function (event) {            // console.log(scroll)            $(".bg4").show();            index = $(this).index();            indexmain = index;            console.log(index)            event.preventDefault();            $(this).addClass('on').siblings().removeClass('on');            $mainWrap.hide();            $mainWrap.eq(index).show();            for (var i = 0; i < $topNav.find('li').size(); i++) {                $topNav.find('li img').eq(i).attr('src', 'images/icon' + (i + 1) + '-1.png')            }            $(this).find('img').attr('src', 'images/icon' + (index + 1) + '-2.png');            $topNav.find('li img').removeClass('azoomIn');            $(this).find('img').addClass('azoomIn durm0p2');            if (indexsub == 0) {                $(".scrollmain").eq(1).css('height', ($(".job-content-1").find('li').height() + 30) * (rl1 / 2) + 200 + 30);            }            if (indexsub == 1) {                $(".scrollmain").eq(1).css('height', 'auto')            }            if (indexmain == 1 && indexsub == 1) {                ismorejob = true;            } else {                ismorejob = false;            }            scroll.refresh();            scroll2.refresh();            scroll3.refresh();            scroll4.refresh();        });        //tab二级切换项        $(".p1-tab").find('li').click(function () {            scroll.scrollTo(0, 0);            scroll2.scrollTo(0, 0);            var index = $(this).index();            if (index == 0) {                $(".scrollmain").eq(1).css('height', ($(".job-content-1").find('li').height() + 30) * (rl1 / 2) + 200 + 30);            }            if (index == 1) {                $(".scrollmain").eq(1).css('height', 'auto')            }            if (indexmain == 1) {                indexsub = index;            }            console.log(index);            setTimeout(function () {                scroll.finishPullUp()            }, 500)            $(this).addClass('on').siblings().removeClass('on');            $(this).parent().find('.online').hide();            $(this).find('.online').show();            $(this).parent().parent().find('.content-tab').hide();            $(this).parent().parent().find('.content-tab').eq(index).show();            if (indexmain == 1 && indexsub == 1) {                ismorejob = true;            } else {                ismorejob = false;            }            setTimeout(function () {                scroll.refresh();                scroll2.refresh();            }, 500)        })        //下拉加载侦听部分        scroll.on('pullingUp', () => {            if (ismorejob) {                console.log('pullingUp')                scrollLoad()            }        })        $(".share").click(function(){            $(".m-bg2").show();        })        $(".close2").click(function(){            $(".m-bg2").hide();        })    }}